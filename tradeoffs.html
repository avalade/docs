

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tradeoffs &amp; Design &mdash; DalmatinerDB 0.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="DalmatinerDB 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="Data Input" href="ingres.html"/>
        <link rel="prev" title="Configuration" href="configuration.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> DalmatinerDB</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#binaries">Binaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#from-sorce">From Sorce</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Tradeoffs &amp; Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#foundation">Foundation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#design">Design</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ingres.html">Data Input</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ingres.html#metric-package">Metric Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="ingres.html#data-section">Data Section</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tcp_proto.html">TCP Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="query_language.html">Dalmatiner Query Language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="query_language.html#general">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="query_language.html#data-types">Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="query_language.html#aggregation-functions">Aggregation Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="query_language.html#manipulation-functions">Manipulation Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="query_language.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="http_api.html">HTTP API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="http_api.html#bucket-listing">Bucket Listing</a></li>
<li class="toctree-l2"><a class="reference internal" href="http_api.html#metric-listing">Metric Listing</a></li>
<li class="toctree-l2"><a class="reference internal" href="http_api.html#dql-query">DQL Query</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="benchmarks.html">Benchmarks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="benchmarks.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="benchmarks.html#workload">Workload</a></li>
<li class="toctree-l2"><a class="reference internal" href="benchmarks.html#duration">Duration</a></li>
<li class="toctree-l2"><a class="reference internal" href="benchmarks.html#results">Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="benchmarks.html#addendum">Addendum</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">DalmatinerDB</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Tradeoffs &amp; Design</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="tradeoffs-design">
<h1>Tradeoffs &amp; Design<a class="headerlink" href="#tradeoffs-design" title="Permalink to this headline">¶</a></h1>
<p>An essential part of every database is to make a decision aobut which tradeoff to make, every database makes them in one way or another and I feel it important to be upfront about them. Being open about what is won and what is lost makes it not only honesty but makes it easyer for users to make a informed decision when picking a database for their usecase.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please keep in mind that all systems have tradeoffs and that just because some are not open about them does not mean they do not make them.</p>
</div>
<div class="section" id="foundation">
<h2>Foundation<a class="headerlink" href="#foundation" title="Permalink to this headline">¶</a></h2>
<p>The design decisions for DalmatinerDB are based on a number of observation about metrics. If those observations hold true for you then chances are good that DalmatinerDB is a good fit. If they don&#8217;t another system with different tradeoffs might be a better choice.</p>
<div class="section" id="metrics-are-imutable">
<h3>Metrics are imutable<a class="headerlink" href="#metrics-are-imutable" title="Permalink to this headline">¶</a></h3>
<p>Once a metric is submitted it isn&#8217;t going to change any more, the CPU usage last mondah at 5:31 will not suddenly spike today. It might however happen that writing the metric is delayed, so writing in the &#8216;past&#8217; can happen.</p>
</div>
<div class="section" id="a-single-value-doens-t-matter">
<h3>A single value doens&#8217;t matter<a class="headerlink" href="#a-single-value-doens-t-matter" title="Permalink to this headline">¶</a></h3>
<p>It is more important to have the bulk of data then have a single value. Usually all views are aggregated and missing values can be interpolated.</p>
</div>
<div class="section" id="everything-is-a-integer">
<h3>Everything is a integer<a class="headerlink" href="#everything-is-a-integer" title="Permalink to this headline">¶</a></h3>
<p>Every metric is either a integer value or can be represented as one (or mutliple). Allowing to scale metrics helps here. As an example <tt class="docutils literal"><span class="pre">1.5s</span></tt> can be represented as <tt class="docutils literal"><span class="pre">1500ms</span></tt>, a set of percentiles can be represented as multiple metrics (<tt class="docutils literal"><span class="pre">metric.99</span></tt>, <tt class="docutils literal"><span class="pre">metric.95</span></tt> ...)</p>
</div>
</div>
<div class="section" id="design">
<h2>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cap">
<h3>CAP<a class="headerlink" href="#cap" title="Permalink to this headline">¶</a></h3>
<p>The perhaps first decision to make is either to pick Consistency or Availability. With metrics and the notion of immutabilit ythere is little harm in picking Availability here, so DalmatinerDB will stay available for read and write options even in the event of a network partition at the cost of giving stall reads on both sides of the pertition until it is healed (given side A can&#8217;t knoow what was written at side B).</p>
<p>Given the immutability of metrics it can be argued that it is impossible to generate conflicting values on both sides of a split, thus merging is simple and lossless.</p>
</div>
<div class="section" id="filesystem">
<h3>Filesystem<a class="headerlink" href="#filesystem" title="Permalink to this headline">¶</a></h3>
<p>DalmatinerDB is designed to run on ZFS and other filesystems are strongly discuraged. While DalmatinerDB will start on any filesystem the experience will be greatly degraded without ZFS or a equally capable filesystem as a base.</p>
<p>DalmatinerDB&#8217;s performance relies heaviley on taking advantage of facilities like ARC, ZIL, checksums and volume compression. Expecting those things to be handled on a filesystem level makes it possible to remove most of the code for caching, compression, validation from the application improving code simplicity, stability and performance significantly.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ingres.html" class="btn btn-neutral float-right" title="Data Input"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="configuration.html" class="btn btn-neutral" title="Configuration"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Heinz N. Gies.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>